{"version":3,"sources":["pages/idwsMIgrator.js","App.js","reportWebVitals.js","index.js"],"names":["IDWSMigrator","props","state","input","output","inputElement","default","customTitle","text","regexes","search","this","newDomainRegexes","oldDomainRegexes","match","post","groups","thread","title","toUpperCase","indexOf","lastIndexOf","data","threadTitle","slice","length","replace","threadUrlRegex","postTitle","postUrlRegex","extractPostData","convertToThread","convertToPost","console","log","currentIndex","offset","lastIndex","occurenceKeyword","tempLine","occurenceIndex","slicedText","push","singleOccurenceConversion","join","outputLineArr","split","forEach","line","isMultipleUrlOccurence","multipleOccurenceConversion","a","alert","result","convert","setState","style","margin","rows","cols","ref","element","value","onClick","e","preventDefault","transform","Result","React","Component","App","className","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d857225d.chunk.js","sourcesContent":["// @ts-check\r\nimport React from 'react';\r\nimport '../styles/migrator.css';\r\n\r\n/**\r\n * @typedef {Object} IRegexes\r\n * @property {RegExp} default\r\n * @property {RegExp} customTitle\r\n */\r\n\r\nclass IDWSMigrator extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        /**\r\n         * @type {{ input: string; output: string }}\r\n         */\r\n        this.state = { input: null, output: null };\r\n        this.inputElement = null;\r\n    }\r\n    \r\n    /**\r\n     * @description handle forum.indowebster.com domain\r\n     * default: [URL]https://forum.indowebster.com/showthread.php?t=xxxx&p=xxxxx[/url]\r\n     * customTitle: [url=https://forum.indowebster.com/showthread.php?t=xxxx&p=xxxxx]IDWS[/url]\r\n     * @returns {IRegexes}\r\n     */\r\n    newDomainRegexes() {\r\n        return {\r\n            default: /\\[URL\\](http|https):\\/\\/forum\\.indowebster\\.com\\/.+\\?(?<thread>t=\\d+){0,1}&{0,1}(?<post>p=\\d+){0,1}.+\\[\\/URL\\]/i,\r\n            customTitle: /\\[URL=\"{0,1}(http|https):\\/\\/forum\\.indowebster\\.com\\/.+\\?(?<thread>t=\\d+){0,1}&{0,1}(?<post>p=\\d+){0,1}.*\"{0,1}\\](?<title>.*)\\[\\/URL\\]/i,\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @description handle www.indowebster.web.id domain\r\n     * @returns {IRegexes}\r\n     */\r\n    oldDomainRegexes() {\r\n        return {\r\n            default: /\\[URL\\](http|https):\\/\\/www\\.indowebster\\.web\\.id\\/.+\\?(?<thread>t=\\d+){0,1}&{0,1}(?<post>p=\\d+){0,1}.+\\[\\/URL\\]/i,\r\n            customTitle: /\\[URL=\"{0,1}(http|https):\\/\\/www\\.indowebster\\.web\\.id\\/.+\\?(?<thread>t=\\d+){0,1}&{0,1}(?<post>p=\\d+){0,1}.*\"{0,1}\\](?<title>.*)\\[\\/URL\\]/i,\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @param {string} text\r\n     * @returns {null | {post?: string; thread?: string; title?: string} }\r\n     */\r\n    extractPostData(text) {\r\n        const oldDomain = 'www.indowebster.web.id';\r\n        let regexes;\r\n        if (text.search(oldDomain) === -1) {\r\n            regexes = this.newDomainRegexes();\r\n        } else {\r\n            regexes = this.oldDomainRegexes();\r\n        }\r\n        const match = text.match(regexes.customTitle) || text.match(regexes.default);\r\n        if (match === null) {\r\n            return null;\r\n        }\r\n        return {\r\n            post: match.groups.post,\r\n            thread: match.groups.thread,\r\n            title: match.groups.title, // may be undefined if using default regex definition\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @returns {RegExp}\r\n     */\r\n    postUrlRegex() {\r\n        return /\\[url\\].+\\[\\/url\\]|\\[url=.+].*\\[\\/url\\]/i;\r\n    }\r\n\r\n    /**\r\n     * @returns {RegExp}\r\n     */\r\n    threadUrlRegex() {\r\n        return /\\[url\\].+\\[\\/url\\]|\\[url=.+].*\\[\\/url\\]/i;\r\n    }\r\n\r\n    /**\r\n     * @returns {string}\r\n     */\r\n    occurenceKeyword() {\r\n        return '[/URL]';\r\n    }\r\n\r\n    /**\r\n     * @param {string} text\r\n     * @returns {boolean}\r\n     */\r\n    isMultipleUrlOccurence(text) {\r\n        if (text.toUpperCase().indexOf('[/URL]') === text.toUpperCase().lastIndexOf('[/URL]')) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @param {*} text \r\n     * @param {{ thread: string; title?: string }} data\r\n     * @returns {string}\r\n     */\r\n    convertToThread(text, data) {\r\n        const { thread } = data;\r\n        const threadTitle = data.title || `[PLAIN]https://forum.idws.id/threads/${thread.slice(2, thread.length)}[/PLAIN]`;\r\n        const replacement = text.replace(this.threadUrlRegex(), `[U][THREAD=${thread.slice(2, thread.length)}]${threadTitle}[/THREAD][/U]`);\r\n        return replacement;\r\n    }\r\n\r\n    /**\r\n     * @param {*} text \r\n     * @param {{ post: string; title?: string }} data\r\n     * @returns {string}\r\n     */\r\n    convertToPost(text, data) {\r\n        const { post } = data;\r\n        const postTitle = data.title || `[PLAIN]https://forum.idws.id/posts/${post.slice(2, post.length)}[/PLAIN]`;\r\n        const replacement = text.replace(this.postUrlRegex(), `[U][POST=${post.slice(2, post.length)}]${postTitle}[/POST][/U]`);\r\n        return replacement;\r\n    }\r\n\r\n    /**\r\n     * @param {string} text\r\n     * @returns {string}\r\n     */\r\n    singleOccurenceConversion(text) {\r\n        const data = this.extractPostData(text);\r\n        if (data === null) {\r\n            return text;\r\n        }\r\n\r\n        if (typeof data.post === 'undefined' && data.thread.length !== 0) {\r\n            return this.convertToThread(text, { thread: data.thread, title: data.title });\r\n        }\r\n\r\n        if (typeof data.post !== 'undefined' && data.post.length !== 0) {\r\n            return this.convertToPost(text, { post: data.post, title: data.title });\r\n        }\r\n            \r\n        console.log(`URL might be unsupported:\\n${text}`);\r\n        return text;\r\n    }\r\n\r\n    /**\r\n     * @param {string} text\r\n     * @returns {string}\r\n     */\r\n    multipleOccurenceConversion(text) {\r\n        let currentIndex = 0;\r\n        let offset = 0;\r\n        const lastIndex = text.lastIndexOf(this.occurenceKeyword());\r\n        let tempLine = [];\r\n        while(currentIndex !== lastIndex) {\r\n            const occurenceIndex = text.indexOf(this.occurenceKeyword(), currentIndex + offset);\r\n            const slicedText = text.slice(currentIndex + offset, occurenceIndex + this.occurenceKeyword().length);\r\n            tempLine.push(this.singleOccurenceConversion(slicedText));\r\n            offset = this.occurenceKeyword().length;\r\n            currentIndex = occurenceIndex;\r\n        }\r\n        return tempLine.join('');\r\n    }\r\n\r\n    /**\r\n     * @param {string} text\r\n     * @returns {string}\r\n     */\r\n    convert(text) {\r\n        let outputLineArr = [];\r\n        const postSplit = text.split('\\n');\r\n        postSplit.forEach((line) => {\r\n            if (this.isMultipleUrlOccurence(line)) {\r\n                outputLineArr.push(this.multipleOccurenceConversion(line));\r\n                return;\r\n            }\r\n            outputLineArr.push(this.singleOccurenceConversion(line));\r\n        });\r\n        return outputLineArr.join('\\n');\r\n    }\r\n\r\n    /**\r\n     * @param {string} input\r\n     */\r\n    async transform(input) {\r\n        if (typeof input === 'undefined' || input === null || input.length === 0) {\r\n            alert('input is empty');\r\n            return;\r\n        }\r\n        const result = this.convert(input);\r\n        this.setState({ output: result });\r\n    }\r\n\r\n    Result() {\r\n        return (<div style={{margin: '50px' }}>\r\n            <label>Result:</label>\r\n            <br></br>\r\n            <pre>{ this.state.output }</pre>\r\n        </div>);\r\n    }\r\n\r\n    render() {\r\n        return (<div>\r\n            <form>\r\n                <label>Input Your BBCode Post To Convert</label>\r\n                <br></br>\r\n                <textarea rows={10} cols={100} ref={(element) => {\r\n                    this.inputElement = element;\r\n                }}></textarea>\r\n                <br></br>\r\n                <button value='Convert!' onClick={async (e) => {\r\n                    e.preventDefault();\r\n                    this.setState({ input: this.inputElement.value });\r\n                    await this.transform(this.state.input);\r\n                }}>Convert!</button>\r\n            </form>\r\n            {this.Result()}\r\n        </div>);\r\n    }\r\n}\r\n\r\nexport default IDWSMigrator;","import './styles/App.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  // Link\n} from \"react-router-dom\";\nimport IDWSMigrator from './pages/idwsMIgrator';\n\nfunction App() {\n  // /**\n  //  * @type { { name: string; path: string; }[] }\n  //  */\n  // const pages = [\n  //   {\n  //     name: 'Home',\n  //     path: ''\n  //   },\n  //   {\n  //     name: 'IDWS Migrator',\n  //     path: 'idwsMigrator'\n  //   },\n  // ];\n  return (\n    <div className=\"App\">\n      <Router>\n      <div>\n        {/* <h1>Pages</h1>\n        <nav>\n          <ul>\n            {pages.map((page) => {\n              return (<li key={page.path}>\n                <Link to={`/${page.path}`}>{page.name}</Link>\n              </li>);\n            })}\n          </ul>\n        </nav> */}\n\n        {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n        <Switch>\n          <Route exact path=\"/\">\n            <IDWSMigrator />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}