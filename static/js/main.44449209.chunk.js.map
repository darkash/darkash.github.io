{"version":3,"sources":["pages/idwsMIgrator.js","App.js","reportWebVitals.js","index.js"],"names":["IDWSMigrator","props","state","input","output","inputElement","default","customTitle","text","regexes","search","this","oldDomainRegexes","newDomainRegexes","match","post","groups","thread","title","postUrlRegex","threadUrlRegex","outputLineArr","split","forEach","line","data","extractPostData","length","threadTitle","slice","replacement","replace","push","console","log","postTitle","join","a","result","convert","setState","style","margin","rows","cols","ref","element","value","onClick","e","preventDefault","transform","Result","React","Component","App","className","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.44449209.chunk.js","sourcesContent":["// @ts-check\r\nimport React from 'react';\r\nimport '../styles/migrator.css';\r\n\r\n/**\r\n * @typedef {Object} IRegexes\r\n * @property {RegExp} default\r\n * @property {RegExp} customTitle\r\n */\r\n\r\nclass IDWSMigrator extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        /**\r\n         * @type {{ input: string; output: string }}\r\n         */\r\n        this.state = { input: null, output: null };\r\n        this.inputElement = null;\r\n    }\r\n    \r\n    /**\r\n     * @description handle forum.indowebster.com domain\r\n     * default: [URL]https://forum.indowebster.com/showthread.php?t=xxxx&p=xxxxx[/url]\r\n     * customTitle: [url=https://forum.indowebster.com/showthread.php?t=xxxx&p=xxxxx]IDWS[/url]\r\n     * @returns {IRegexes}\r\n     */\r\n    newDomainRegexes() {\r\n        return {\r\n            default: /\\[URL\\](http|https):\\/\\/forum\\.indowebster\\.com\\/.+\\?(?<thread>t=\\d+){0,1}&{0,1}(?<post>p=\\d+){0,1}.+\\[\\/URL\\]/i,\r\n            customTitle: /\\[URL=\"{0,1}(http|https):\\/\\/forum\\.indowebster\\.com\\/.+\\?(?<thread>t=\\d+){0,1}&{0,1}(?<post>p=\\d+){0,1}.*\"{0,1}\\](?<title>.*)\\[\\/URL\\]/i,\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @description handle www.indowebster.web.id domain\r\n     * @returns {IRegexes}\r\n     */\r\n    oldDomainRegexes() {\r\n        return {\r\n            default: /\\[URL\\](http|https):\\/\\/www\\.indowebster\\.web\\.id\\/.+\\?(?<thread>t=\\d+){0,1}&{0,1}(?<post>p=\\d+){0,1}.+\\[\\/URL\\]/i,\r\n            customTitle: /\\[URL=\"{0,1}(http|https):\\/\\/www\\.indowebster\\.web\\.id\\/.+\\?(?<thread>t=\\d+){0,1}&{0,1}(?<post>p=\\d+){0,1}.*\"{0,1}\\](?<title>.*)\\[\\/URL\\]/i,\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @param {string} text\r\n     * @returns {null | {post?: string; thread?: string; title?: string} }\r\n     */\r\n    extractPostData(text) {\r\n        const oldDomain = 'www.indowebster.web.id';\r\n        let regexes;\r\n        if (text.search(oldDomain) === -1) {\r\n            regexes = this.oldDomainRegexes();\r\n        } else {\r\n            regexes = this.newDomainRegexes();\r\n        }\r\n        const match = text.match(regexes.customTitle) || text.match(regexes.default);\r\n        if (match === null) {\r\n            return null;\r\n        }\r\n        return {\r\n            post: match.groups.post,\r\n            thread: match.groups.thread,\r\n            title: match.groups.title, // may be undefined if using default regex definition\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @param {string} text\r\n     * @returns {string}\r\n     */\r\n    convert(text) {\r\n        const postUrlRegex = /\\[url\\].+\\[\\/url\\]|\\[url=.+].*\\[\\/url\\]/i;\r\n        const threadUrlRegex = /\\[url\\].+\\[\\/url\\]|\\[url=.+].*\\[\\/url\\]/i;\r\n        let outputLineArr = [];\r\n        const postSplit = text.split('\\n');\r\n        postSplit.forEach((line) => {\r\n            const data = this.extractPostData(line);\r\n            if (data === null) {\r\n                outputLineArr.push(line);\r\n                return;\r\n            }\r\n\r\n            if (typeof data.post === 'undefined' && data.thread.length !== 0) {\r\n                const { thread } = data;\r\n                const threadTitle = data.title || `[PLAIN]https://forum.idws.id/threads/${thread.slice(2, thread.length)}[/PLAIN]`;\r\n                const replacement = line.replace(threadUrlRegex, `[U][THREAD=${thread.slice(2, thread.length)}]${threadTitle}[/THREAD][/U]`);\r\n                outputLineArr.push(replacement);\r\n            }\r\n\r\n            if (data.post.length !== 0) {\r\n                const { post } = data;\r\n                const postTitle = data.title || `[PLAIN]https://forum.idws.id/posts/${post.slice(2, post.length)}[/PLAIN]`;\r\n                const replacement = line.replace(postUrlRegex, `[U][POST=${post.slice(2, post.length)}]${postTitle}[/POST][/U]`);\r\n                outputLineArr.push(replacement);\r\n                return;\r\n            }\r\n            \r\n            console.log(`URL might be malformed or unsupported:\\n${line}`);\r\n            outputLineArr.push(line); // fallback\r\n        });\r\n        return outputLineArr.join('\\n');\r\n    }\r\n\r\n    /**\r\n     * @param {string} input\r\n     */\r\n    async transform(input) {\r\n        const result = this.convert(input);\r\n        this.setState({ output: result });\r\n    }\r\n\r\n    Result() {\r\n        return (<div style={{margin: '50px' }}>\r\n            <label>Result:</label>\r\n            <br></br>\r\n            <pre>{ this.state.output }</pre>\r\n        </div>);\r\n    }\r\n\r\n    render() {\r\n        return (<div>\r\n            <form>\r\n                <label>Input Your BBCode Post To Convert</label>\r\n                <br></br>\r\n                <textarea rows={10} cols={100} ref={(element) => {\r\n                    this.inputElement = element;\r\n                }}></textarea>\r\n                <br></br>\r\n                <button value='Convert!' onClick={async (e) => {\r\n                    e.preventDefault();\r\n                    this.setState({ input: this.inputElement.value });\r\n                    await this.transform(this.state.input);\r\n                }}>Convert!</button>\r\n            </form>\r\n            {this.Result()}\r\n        </div>);\r\n    }\r\n}\r\n\r\nexport default IDWSMigrator;","import './styles/App.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  // Link\n} from \"react-router-dom\";\nimport IDWSMigrator from './pages/idwsMIgrator';\n\nfunction App() {\n  // /**\n  //  * @type { { name: string; path: string; }[] }\n  //  */\n  // const pages = [\n  //   {\n  //     name: 'Home',\n  //     path: ''\n  //   },\n  //   {\n  //     name: 'IDWS Migrator',\n  //     path: 'idwsMigrator'\n  //   },\n  // ];\n  return (\n    <div className=\"App\">\n      <Router>\n      <div>\n        {/* <h1>Pages</h1>\n        <nav>\n          <ul>\n            {pages.map((page) => {\n              return (<li key={page.path}>\n                <Link to={`/${page.path}`}>{page.name}</Link>\n              </li>);\n            })}\n          </ul>\n        </nav> */}\n\n        {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n        <Switch>\n          <Route exact path=\"/\">\n            <IDWSMigrator />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}